<!doctype html><html lang='es'><head><meta charset='utf-8'/><meta name='viewport' content='width=device-width,initial-scale=1'/><title>Jornadas - Quiniela 32</title><link rel="stylesheet" href="style.css"></head><body>
<div class="container">
  <div class="header"><h1>Jornadas Anteriores - Quiniela 32</h1></div>
  <div class="small">Haz clic en una jornada para ver partidos y pronósticos. Similar al estilo de quinielafutbol.info.</div>
  <div id="jornadasContainer"></div>
</div>
<script>
async function buildAccordion(){
  const resp = await fetch('data.json'); const data = await resp.json();
  const jornadas = data.jornadas || [];
  const players = data.players || [];
  const container = document.getElementById('jornadasContainer');
  container.innerHTML = '';
  jornadas.forEach((j,i)=>{
    const acc = document.createElement('div'); acc.className='accordion';
    const head = document.createElement('div'); head.className='head';
    const h = document.createElement('h3'); h.textContent = (j.id || ('Jornada '+(i+1)));
    const d = document.createElement('div'); d.className='date'; d.textContent = j.fecha || '';
    const icon = document.createElement('div'); icon.className='toggle-icon'; icon.textContent='▾';
    head.appendChild(h); head.appendChild(d); head.appendChild(icon);
    acc.appendChild(head);
    const body = document.createElement('div'); body.className='body';
    // partidos list
    const ul = document.createElement('ul'); ul.className='partidos-list';
    (j.partidos||[]).forEach((p,pi)=>{
      const li = document.createElement('li'); li.textContent = (pi+1)+'. '+(p.local||'')+' – '+(p.visitante||'');
      ul.appendChild(li);
    });
    body.appendChild(ul);
    // pronosticos table
    const wrap = document.createElement('div'); wrap.className='table-wrap';
    const table = document.createElement('table'); table.className='matriz';
    // header
    const thead = document.createElement('thead'); const headRow = document.createElement('tr');
    const thj = document.createElement('th'); thj.textContent='Jugador'; headRow.appendChild(thj);
    (j.partidos||[]).forEach((p,pi)=>{ const th = document.createElement('th'); th.textContent=(pi+1)+'. '+(p.local||'')+' - '+(p.visitante||''); headRow.appendChild(th); });
    thead.appendChild(headRow); table.appendChild(thead);
    // body
    const tbody = document.createElement('tbody');
    players.forEach(pl=>{
      const tr = document.createElement('tr');
      const tdname = document.createElement('td'); tdname.className='player-name'; tdname.textContent = pl.name || pl.username || ''; tr.appendChild(tdname);
      (j.partidos||[]).forEach((p,pi)=>{
        const td = document.createElement('td'); td.textContent = '-'; tr.appendChild(td);
      });
      tbody.appendChild(tr);
    });
    table.appendChild(tbody);
    wrap.appendChild(table);
    body.appendChild(wrap);
    acc.appendChild(body);
    // toggle
    head.addEventListener('click', ()=>{
      const open = body.style.display === 'block';
      document.querySelectorAll('.accordion .body').forEach(b=>b.style.display='none');
      document.querySelectorAll('.accordion .toggle-icon').forEach(ic=>ic.textContent='▾');
      if(!open){ body.style.display='block'; icon.textContent='▴'; }
      else{ body.style.display='none'; icon.textContent='▾'; }
    });
    container.appendChild(acc);
  });
}

document.addEventListener('DOMContentLoaded', buildAccordion);
</script>
</body></html>