
<!doctype html><html lang="es"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Jornada</title><link rel="stylesheet" href="css/style.css"></head><body>
<button class='back' onclick='history.back()'>← Volver</button>
<div class="card"><h2 id="title">Jornada</h2><div id="matches"></div><h3>Pronósticos</h3><div id="table"></div></div>
<script>function qs(n){return new URL(location.href).searchParams.get(n);} const id=qs('id')||'1'; fetch('data.json').then(r=>r.json()).then(db=>{ const j=db.jornadas.find(x=>String(x.id)===String(id)); if(!j){document.getElementById('title').innerText='No encontrada';return;} document.getElementById('title').innerText='Jornada '+j.id+' - '+(j.fecha||j.nombre||''); document.getElementById('matches').innerHTML='<ol>'+Object.values(j.partidos).map((s,i)=>'<li>'+(i+1)+'. '+s + (j.resultados[String(i+1)]? ' → Resultado: '+j.resultados[String(i+1)] : '') +'</li>').join('') + '</ol>'; let t='<table class="pron-table"><thead><tr><th>Jugador</th>'; for(let i=1;i<=14;i++) t+='<th>'+i+'</th>'; t+='<th>Aciertos</th></tr></thead><tbody>'; const worst=j.meta.worst||[]; const second=j.meta.second_worst||[]; const best=j.meta.best||[]; db.players.forEach(p=>{ const u=p.username; let cls=''; if(worst.includes(u)) cls='worst'; else if(second.includes(u)) cls='second-worst'; else if(best.includes(u)) cls='best'; t+='<tr class="'+cls+'"><td>'+u+'</td>'; for(let i=1;i<=14;i++){ const val = j.pronosticos[u] ? j.pronosticos[u][String(i)] : ''; const res = j.resultados[String(i)] || ''; let cell = val||''; if(res){ if(val===res) cell='<span class="ok">'+cell+'</span>'; else if(val) cell='<span class="no">'+cell+'</span>'; else cell='<span class="muted">-</span>'; } t+='<td>'+cell+'</td>'; } t+='<td>'+(j.aciertos[u]||0)+'</td></tr>'; }); t+='</tbody></table>'; document.getElementById('table').innerHTML=t; });</script></body></html>
